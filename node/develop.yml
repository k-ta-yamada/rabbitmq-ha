common:
  vip: &vip 192.168.1.100
  hostnames:
    primary: &primary mq1
    standby: &standby mq2

# ../cookbooks/hosts/default.rb
hosts:
  file_name: /etc/hosts
  vip:
    - host: mq
      ip:   *vip
  frontend:
    - host: mq
      ip:   192.168.1.100
    - host: *primary
      ip:   192.168.1.101
    - host: *standby
      ip:   192.168.1.102
  backend_prefix: backend-
  backend:
    # - host: mq
    #   ip:   192.168.2.100
    - host: *primary
      ip:   192.168.2.101
    - host: *standby
      ip:   192.168.2.102

rabbitmq:
  pkg:
    - rabbitmq-server
  plugins:
    - rabbitmq_management
  .erlang.cookie:
    path: /var/lib/rabbitmq/
    content: this is cookie
